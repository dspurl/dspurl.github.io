# 开发文档
以下只根据本项目与其它第三方文档有所出入的内容进行讲解，如开发过程中碰到问题，请进群咨询。
## 后台
### 新功能开发
#### 添加权限
1. 首先登录后台，选择`用户管理->权限管理`
2. 我们将在工具栏目下添加了个轮播功能，所以权限管理->搜索工具，然后选择任一同级类目，点“复制”（也可直接点“添加”）
![](/01.png)

3. 填写权限名称、API、选择分组，点击确定(这里需要注意的是，当子类有存在“显示”的权限时，父类权限将不会显示，如下面的轮播列表会覆盖这里的“轮播管理”权限)
![](/02.png)

4. 按2、3步骤，创建“轮播列表”、“添加轮播”、“编辑轮播”、“轮播删除”
![](/03.png)

5. 选择`用户管理->管理组管理`，选择一个角色，点击“编辑”，刚添加的权限就会出现在“权限”的未分配中，将未分配的权限移到已分配就可以完成权限分配（有时候添加的权限，并不会在未分配中显示，如上面我们再添加“轮播详情”的权限，然后会发现未分配的权限并没有出现这个权限，那么我们需要在已分配的权限中，将“轮播管理”整个大类移到未分配中，点保存后，再次打开，就会出现刚才添加的“轮播详情”了，然后再将它移动到已分配列表中即可完成权限分配）
![](/04.png)

6. F5刷新下页面，左侧菜单栏就会出现刚才添加的“轮播列表”了
7. 添加路由，打开`api->routes->api.php`，在`Route::prefix('admin')->namespace('Admin')->middleware(['auth:api'])->group(function () {`最后添加以下代码(格式`Route::get('访问的路由名称', '对应的控制器对应的方法')->middleware(['后台验证中间件']);`)
```javascript
//轮播
Route::get('banner', 'BannerController@index')->middleware(['permissions:BannerList']);    //轮播列表
Route::post('banner', 'BannerController@store')->middleware(['permissions:CreateBanner']);    //轮播添加保存
Route::put('banner/{photo}', 'BannerController@update')->middleware(['permissions:EditBanner']);    //轮播编辑保存
Route::delete('banner/{photo}', 'BannerController@destroy')->middleware(['permissions:DeleteBanner']);    //轮播删除
```
![](/08.png)

#### 添加模板权限
根据上一步操作后，你会发现，虽然栏目已经创建，但点击后显示的是空白页面，那是因为我们还没有创建模板权限和创建模板
1. 打开项目`根目录->admin->src->store->modules->permission.js`找到`componentsMap`，在最后一行添加如下代码
```javascript
// 轮播
  Banner: () => import('@/views/tool/Banner/index'),
  BannerList: () => import('@/views/tool/Banner/list')
```
![](/05.png)

2. 进入`根目录->admin->src->views->tool`目录，在下面添加以`Banner`命名的目录，并添加对应的模板，模板可以参考同级模板，如这里可以参考`redisService`也可以直接复制`根目录->template->vue`中以后缀为vue的文件，然后进行修改，模板用到的都是VUE语法，这里如果还没有学会VUE的话，请先学习VUE后再进行修改
![](/06.png)

3. 添加api文件，`根目录->admin->src->api`，复制一份api的js，也可以直接复制`根目录->template->vue`中以后缀为 js的文件，将里面的url改成`banner`（这里的url可自己命名，但需要和上面配置的路径一样）
![](/07.png)

4. 现在就可以正常访问“轮播管理”了
### 基于原有功能扩展
根据上面的步骤，你应该已经会添加功能模块了，现在你想对已有的功能模板进行二次开发，就变的更容易了，下面简单的介绍下步骤
1. 通过地址栏,如下图（这里命名首字母都是小写），我们就可以在`admin->src->store->modules->permission.js`中找到对应的文件所在位置了
![](/09.png)
2. 修改功能后，切记为添加的权限添加`v-permission="$store.jurisdiction.[权限]"`，不然你所创建的功能中的权限将失效，如添加、编辑、删除将不受权限分配限制
## 前台
1. 前台采用uni-app开发，会uni-app即可，这里就不进行说明了