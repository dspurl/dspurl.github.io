(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{421:function(s,a,n){"use strict";n.r(a);var t=n(58),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("h2",{attrs:{id:"常用开发工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用开发工具"}},[s._v("#")]),s._v(" 常用开发工具")]),s._v(" "),n("ul",[n("li",[s._v("window10系统")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://learnku.com/docs/laravel/7.x/homestead/7450",title:"Laravel Homestead",target:"_blank",rel:"noopener noreferrer"}},[s._v("Laravel Homestead(免费)"),n("OutboundLink")],1),s._v(" 为了快速搭建window10下的linux+laravel环境（当然你也可以用phpStudy，这里使用linux虚拟机，为的是熟悉linux的命令行，你可以使用xshell像连接服务器的方式连接本地的linux服务器）")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/laradock/laradock",title:"Laradock",target:"_blank",rel:"noopener noreferrer"}},[s._v("Laradock(免费)"),n("OutboundLink")],1),s._v(" 基于docker容器的laravel集成环境，强烈推荐使用，可以减少因环境部署产生的诸多问题！！！")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.jetbrains.com/phpstorm/",title:"phpStorm编辑器",target:"_blank",rel:"noopener noreferrer"}},[s._v("phpStorm编辑器"),n("OutboundLink")],1),s._v("(收费)下载后，需要安装插件（"),n("a",{attrs:{href:"https://www.jianshu.com/p/7d3158fa33b7",title:"laravel相关插件",target:"_blank",rel:"noopener noreferrer"}},[s._v("laravel相关插件"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.jianshu.com/p/051bb0109d70",title:"VUE相关插件",target:"_blank",rel:"noopener noreferrer"}},[s._v("VUE相关插件"),n("OutboundLink")],1),s._v("）")]),s._v(" "),n("li",[s._v("Windows PowerShell(window10自带的shell工具，在需要使用的目录，shift+右击就可以找到)")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.xshellcn.com/xiazai.html",title:"Xshell+Xftp连接linux服务器工具",target:"_blank",rel:"noopener noreferrer"}},[s._v("Xshell+Xftp连接linux服务器工具"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://dcloud.io/hbuilderx.html",title:"HBuilder x 用来开发小程序端",target:"_blank",rel:"noopener noreferrer"}},[s._v("HBuilder x 用来开发小程序端"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.postman.com/",title:"Postman api接口测试工具",target:"_blank",rel:"noopener noreferrer"}},[s._v("Postman api接口测试工具"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.google.cn/chrome/",title:"Google Chrome",target:"_blank",rel:"noopener noreferrer"}},[s._v("Google Chrome"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"环境搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[s._v("#")]),s._v(" 环境搭建")]),s._v(" "),n("h2",{attrs:{id:"基于docker安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于docker安装"}},[s._v("#")]),s._v(" 基于docker安装")]),s._v(" "),n("blockquote",[n("p",[s._v("推荐有技术能力的使用该方法")]),s._v(" "),n("p",[s._v("以下安装的前提是已安装好了docker")]),s._v(" "),n("p",[s._v("如本地已有laradock环境或是其它docker环境，请自行修改docker-compose.yml的端口号")])]),s._v(" "),n("h3",{attrs:{id:"进入项目根目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进入项目根目录"}},[s._v("#")]),s._v(" 进入项目根目录")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://gitee.com/dswjcms/dsshop.git\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" dsshop\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装环境")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up -d\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装后端")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" php "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" .env.docker .env\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如有修改过docker-compose.yml，如数据库密码，请自行修改.env文件")]),s._v("\nphp artisan migrate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载demo数据(demo和pure二选一)")]),s._v("\nphp artisan generate:sql\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载纯净数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# php artisan generate:sql pure")]),s._v("\nphp artisan storage:link\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成APP_KEY")]),s._v("\nphp artisan key:generate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成oauth文件")]),s._v("\nphp artisan passport:keys\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权管理端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`admins`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权客户端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`users`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给storage777权限")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" storage/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启队列和定时任务(用到了再开启，以下非必须操作)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改/docker/supervisor/conf.d目录下的dsshop-scheduler.conf.example(定时任务)和dsshop-worker.conf.example(队列)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一般不需要修改，直接将这两个文件名的.example去除")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入php容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" php "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新supervisor")]),s._v("\nsupervisorctl update\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有进程的状态")]),s._v("\nsupervisorctl status\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搭建后台")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入admin/vue2/element-admin-v3目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不要在linux下执行，会报错，推荐windows")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#admin/config/dev.env.js or prod.env.js修改自己的api地址")]),s._v("\nBASE_API: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"http://172.27.16.1/api/v1/admin/\"'")]),s._v(",  //172.27.16.1是window主机的局域网IP\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认后台账号、密码")]),s._v("\nadmin\nadmin\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搭建H5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/client/uni-app/mix-mall\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X导入client/uni-app/mix-mall目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# client/uni-app/mix-mall/utils/config.js修改服务器地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改`BaseURL`为API访问地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# `secret`有个默认密钥，如需自定义，只需在`.env`中配置`PROJECT_KEY`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X可以通过浏览器、微信小程序运行项目，也可以直接发布项目，但需要配置账号，具体请参考HBuilder X")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br")])]),n("h2",{attrs:{id:"傻瓜式安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#傻瓜式安装"}},[s._v("#")]),s._v(" 傻瓜式安装")]),s._v(" "),n("blockquote",[n("p",[s._v("4分钟搭建dsshop")]),s._v(" "),n("p",[s._v("如不想碰到错误，请严格按照以下步骤和要求执行，以下方法已真机验证")]),s._v(" "),n("p",[s._v("安装包在环境满足的前提下，可不用写一行代码，即可搭建完整个项目")]),s._v(" "),n("p",[s._v("优点：搭建方便，无需懂代码，全程引导安装；缺点：项目压缩编译")]),s._v(" "),n("p",[s._v("缺点：环境不满足将无法正常执行，所以请严格参考以下测试环境执行，以免发生错误")])]),s._v(" "),n("h4",{attrs:{id:"前期准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前期准备"}},[s._v("#")]),s._v(" 前期准备")]),s._v(" "),n("ul",[n("li",[s._v("一台服务器")]),s._v(" "),n("li",[s._v("mysql =5.7")]),s._v(" "),n("li",[s._v("php >= 7.4")]),s._v(" "),n("li",[s._v("node= 14.18.3")]),s._v(" "),n("li",[s._v("php开启以下扩展"),n("code",[s._v("curl")]),s._v("、"),n("code",[s._v("pdo")]),s._v("、"),n("code",[s._v("openssl")]),s._v("、"),n("code",[s._v("redis")])]),s._v(" "),n("li",[s._v("以下目录具备读写权限(777权限)"),n("code",[s._v("api/storage/framework/")]),s._v("、"),n("code",[s._v("api/storage/logs/")]),s._v("、"),n("code",[s._v("api/bootstrap/cache/")])])]),s._v(" "),n("h4",{attrs:{id:"安装步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),n("h5",{attrs:{id:"手动下载安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手动下载安装"}},[s._v("#")]),s._v(" 手动下载安装")]),s._v(" "),n("ol",[n("li",[s._v("下载dsshop发行版，下载方式如下图\n"),n("img",{attrs:{src:"/image/install_09.png",alt:""}}),s._v(" "),n("img",{attrs:{src:"/image/install_10.png",alt:""}})]),s._v(" "),n("li",[s._v("将项目解压，得到dsshop目录，将dsshop目录移动到网站根目录（一般为www）")]),s._v(" "),n("li",[s._v("配置nginx（自行百度自己用的集成环境如何修改nginx）参考：https://learnku.com/docs/laravel/7.x/deployment/7452")]),s._v(" "),n("li",[s._v("通过浏览器访问http://dsshop.test/install（请根据自己实际域名替换掉http://dsshop.test）")]),s._v(" "),n("li",[s._v("填写必要信息后，即可完成安装")])]),s._v(" "),n("h5",{attrs:{id:"命令行安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行安装"}},[s._v("#")]),s._v(" 命令行安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("git clone https://github.com/dspurl/dsshop\ncd dsshop\n# 配置nginx参考手动下载安装\n# 运行安装引导\n访问：http://dsshop.test/install\n# 填写必要信息后，即可完成安装\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h5",{attrs:{id:"搭建小程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建小程序"}},[s._v("#")]),s._v(" 搭建小程序")]),s._v(" "),n("blockquote",[n("p",[s._v("小程序可以直接用小程序开发工具打开dsshop/api/public/mp-weixin")])]),s._v(" "),n("ul",[n("li",[s._v("用微信开发者工具打开小程序，然后上传，进行发布就可以了")])]),s._v(" "),n("h5",{attrs:{id:"搭建网站"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建网站"}},[s._v("#")]),s._v(" 搭建网站")]),s._v(" "),n("blockquote",[n("p",[s._v("网站位于dsshop/api/public/web")])]),s._v(" "),n("ul",[n("li",[s._v("进入网站目录，执行以下命令")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install\nnpm start\n# 访问网站\nhttp://dsshop.test:3002\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"基于宝塔安装-已暂停维护"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于宝塔安装-已暂停维护"}},[s._v("#")]),s._v(" 基于宝塔安装(已暂停维护)")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/AckerPaul/btdsshop",target:"_blank",rel:"noopener noreferrer"}},[s._v("btdsshop"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"基于laradock安装-已暂停维护"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于laradock安装-已暂停维护"}},[s._v("#")]),s._v(" 基于Laradock安装(已暂停维护)")]),s._v(" "),n("h3",{attrs:{id:"安装laradock"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装laradock"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://laradock.io/getting-started/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装Laradock"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("window 安装docker.exe")]),s._v(" "),n("p",[s._v("下载Laradock仓库")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/laradock/laradock.git\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("下载image并生成container启动, 这一步最好换成国内源，需要一些时间安装")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" laradock\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改.env文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("APP_CODE_PATH_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx  //在这个目录里修改Nginx配置\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up -d nginx php-fpm mysql redis\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("https://hub-mirror.c.163.com\n"),n("img",{attrs:{src:"/image/18.png",alt:""}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("  //查看安装结果，注意Nginx端口映射\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"/image/15.png",alt:""}})]),s._v(" "),n("p",[s._v("进入container(后续操作会用到)")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" workspace "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("  //Linux or Macos\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("workspace-container-id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("  //windows\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"安装dsshop管理端-后台代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装dsshop管理端-后台代码"}},[s._v("#")]),s._v(" 安装DSSHOP管理端(后台代码)")]),s._v(" "),n("p",[s._v("在Laradock同级目录下面")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/dspurl/dsshop.git\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it laradock_workspace_1 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("  //进入container\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" dsshop/api\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改.env.dev为.env")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加数据库信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_CONNECTION")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql //填127.0.0.1会报找不到IP\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_DATABASE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("表名\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_USERNAME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("用户名\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("密码\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置redis(需要事先装redis服务端)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("redis //填127.0.0.1会报找不到IP\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("null\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_DB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_CACHE_DB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nphp artisan migrate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载demo数据(demo和pure二选一)")]),s._v("\nphp artisan generate:sql\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载纯净数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# php artisan generate:sql pure")]),s._v("\nphp artisan storage:link\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成APP_KEY")]),s._v("\nphp artisan key:generate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成oauth文件")]),s._v("\nphp artisan passport:keys\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权管理端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`admins`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权客户端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`users`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("p",[s._v("修改windows的hosts文件")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 dsshop.test\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("然后访问浏览器访问dsshop.test:端口，看是否能够访问Laravel /路径")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("//laradock/nginx配置了一个88端口映射指向dsshop/api/public 目录\nserver "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    listen "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":80"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server_name laravel.test"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    root /var/www/dsshop/api/public"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ····\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:"/image/19.png",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"安装dsshop管理端-前端代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装dsshop管理端-前端代码"}},[s._v("#")]),s._v(" 安装DSSHOP管理端(前端代码)")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/admin/vue2/element-admin-v3\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不要在linux下执行，会报错，推荐windows")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#admin/config/dev.env.js or prod.env.js修改自己的api地址")]),s._v("\nBASE_API: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"http://172.27.16.1/api/v1/admin/\"'")]),s._v(",  //172.27.16.1是window主机的局域网IP\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev  \n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build:prod  //对应 prod.env.js\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认后台账号、密码")]),s._v("\nadmin\nadmin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"小程序代码本地展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小程序代码本地展示"}},[s._v("#")]),s._v(" 小程序代码本地展示")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/client/uni-app/mix-mall\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X导入client/uni-app/mix-mall目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# client/uni-app/mix-mall/utils/config.js修改服务器地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改`BaseURL`为API访问地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# `secret`有个默认密钥，如需自定义，只需在`.env`中配置`PROJECT_KEY`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X可以通过浏览器、微信小程序运行项目，也可以直接发布项目，但需要配置账号，具体请参考HBuilder X")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"运行小程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行小程序"}},[s._v("#")]),s._v(" 运行小程序")]),s._v(" "),n("p",[s._v("需要安装sass的插件，然后HBuilder会自动开启微信开发工具，代码会转为微信小程序的代码\n"),n("img",{attrs:{src:"/image/16.png",alt:""}}),s._v(" "),n("img",{attrs:{src:"/image/17.png",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"uni-app介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-app介绍"}},[s._v("#")]),s._v(" uni-app介绍")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://uniapp.dcloud.io/quickstart",title:"uni-app",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://uniapp.dcloud.io/quickstart"),n("OutboundLink")],1)]),s._v(" "),n("h3",{attrs:{id:"网站代码本地展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#网站代码本地展示"}},[s._v("#")]),s._v(" 网站代码本地展示")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/client/nuxt-web/mi\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" .env.prod .env   //修改配置信息\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("APP_ENV")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("local   // 修改APP_ENV为local\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h2",{attrs:{id:"基于homestead安装-已暂停维护"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于homestead安装-已暂停维护"}},[s._v("#")]),s._v(" 基于Homestead安装(已暂停维护)")]),s._v(" "),n("p",[s._v("参考："),n("a",{attrs:{href:"https://learnku.com/docs/laravel/7.x/homestead/7450",title:"Laravel Homestead",target:"_blank",rel:"noopener noreferrer"}},[s._v("Laravel Homestead"),n("OutboundLink")],1)]),s._v(" "),n("h3",{attrs:{id:"dsshop使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dsshop使用"}},[s._v("#")]),s._v(" DSSHOP使用")]),s._v(" "),n("ul",[n("li",[s._v("下载"),n("a",{attrs:{href:"https://github.com/dspurl/dsshop",title:"dsshop",target:"_blank",rel:"noopener noreferrer"}},[s._v("dsshop"),n("OutboundLink")],1)])]),s._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[s._v("git clone https://github.com/dspurl/dsshop.git\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"dsshop后端代码部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dsshop后端代码部署"}},[s._v("#")]),s._v(" DSSHOP后端代码部署")]),s._v(" "),n("ul",[n("li",[s._v("进入api目录")]),s._v(" "),n("li",[s._v("安装"),n("a",{attrs:{href:"https://www.runoob.com/w3cnote/composer-install-and-usage.html",title:"composer",target:"_blank",rel:"noopener noreferrer"}},[s._v("composer"),n("OutboundLink")],1),s._v(" 建议切换到中国镜像，不然下载会比较慢")]),s._v(" "),n("li",[s._v("安装dsshop依赖包")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./api\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改.env.dev为.env")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加数据库信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_CONNECTION")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_DATABASE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("表名\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_USERNAME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("用户名\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DB_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("密码\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置redis(需要事先装redis服务端)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_PORT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'端口'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_DB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_CACHE_DB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nphp artisan migrate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载demo数据(demo和pure二选一)")]),s._v("\nphp artisan generate:sql\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载纯净数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# php artisan generate:sql pure")]),s._v("\nphp artisan storage:link\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成APP_KEY")]),s._v("\nphp artisan key:generate\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成oauth文件")]),s._v("\nphp artisan passport:keys\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权管理端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`admins`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_CLIENT_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建密码授权客户端")]),s._v("\nphp artisan passport:client --password\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择`users`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改.env，添加OAuth认证信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_ID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的Client ID"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSPORT_WEB_SECRET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"生成的 Client secret"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要安装PhpRedis")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考：https://github.com/dspurl/dsshop/pull/84")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("ul",[n("li",[s._v("访问项目对应的域名，如果正常显示页面，说明搭建成功了")])]),s._v(" "),n("h3",{attrs:{id:"dsshop前端代码部署-后台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dsshop前端代码部署-后台"}},[s._v("#")]),s._v(" DSSHOP前端代码部署(后台)")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/admin/vue2/element-admin-v3\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不要在linux下执行，会报错，推荐windows")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#admin/config/dev.env.js修改自己的api地址")]),s._v("\nBASE_API: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"http://dsshop.com/api/v1/admin/\"'")]),s._v(",\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("浏览器默认会打开，然后登录进去，能正常访问各各页面，说明后台和后端已经搭建成功")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 默认后台账号、密码\nadmin\nadmin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"dsshop前端代码部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dsshop前端代码部署"}},[s._v("#")]),s._v(" DSSHOP前端代码部署")]),s._v(" "),n("h4",{attrs:{id:"h5端、小程序端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5端、小程序端"}},[s._v("#")]),s._v(" H5端、小程序端")]),s._v(" "),n("ul",[n("li",[s._v("先安装"),n("a",{attrs:{href:"https://nodejs.org/en/",title:"nodejs",target:"_blank",rel:"noopener noreferrer"}},[s._v("nodejs"),n("OutboundLink")],1),s._v("和"),n("a",{attrs:{href:"https://dcloud.io/hbuilderx.html",title:"HBuilder x 用来开发小程序端",target:"_blank",rel:"noopener noreferrer"}},[s._v("HBuilder x 用来开发小程序端"),n("OutboundLink")],1)])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/client/uni-app/mix-mall\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X导入client/uni-app/mix-mall目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# client/uni-app/mix-mall/utils/config.js修改服务器地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改`BaseURL`为API访问地址")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# `secret`有个默认密钥，如需自定义，只需在`.env`中配置`PROJECT_KEY`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HBuilder X可以通过浏览器、微信小程序运行项目，也可以直接发布项目，但需要配置账号，具体请参考HBuilder X")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"网站"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#网站"}},[s._v("#")]),s._v(" 网站")]),s._v(" "),n("blockquote",[n("p",[s._v("网站采用nuxt框架，本地测试和其它vue项目一样")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/client/nuxt-web/mi\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" .env.prod .env   //修改配置信息\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("APP_ENV")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("local   // 修改APP_ENV为local\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);